/*!
	Zoom 1.7.21
	license: MIT
	http://www.jacklmoore.com/zoom
*/
// Allen - modified zoom 1.7.21 by appending this extra code: .one("mousemove.zoom",t) to the end of .on(m,f.move)  -  This change allows to zoom to activate one page reload/new page whilst the mouse is moving over the image.
// Allen - modified zoom 1.7.21 by merging in this pull request which adds "dead zone" which give us the ability to move the image faster to the edges. See: https://github.com/jackmoore/zoom/pull/98/commits/08df1b5c490203ed55a0ce20874d430a3d725bf9

!function(o){var t={url:!1,callback:!1,target:!1,duration:120,on:"mouseover",touch:0,onZoomIn:!1,onZoomOut:!1,magnify:1.25,deadZone:50};o.zoom=function(t,e,n,i,u){var a,c,r,m,l,s,d,f=o(t),h=f.css("position"),v=o(e);return t.style.position=/(absolute|fixed)/.test(h)?h:"relative",t.style.overflow="hidden",n.style.width=n.style.height="",o(n).addClass("zoomImg").css({position:"absolute",top:0,left:0,opacity:0,width:n.width*i,height:n.height*i,border:"none",maxWidth:"none",maxHeight:"none"}).appendTo(t),{init:function(){c=f.outerWidth(),a=f.outerHeight(),e===t?(m=c,r=a):(m=v.outerWidth(),r=v.outerHeight()),l=(n.width-c)/m,s=(n.height-a)/r,d=v.offset()},move:function(o){var t=o.pageX-d.left,e=o.pageY-d.top;if(u.deadZone>0){var i=m/2,a=r/2;(t<i||t>i)&&(t-=u.deadZone*(100*(i-t)/i/100),(e<a||e>a)&&(e-=u.deadZone*(100*(a-e)/a/100)))}e=Math.max(Math.min(e,r),0),t=Math.max(Math.min(t,m),0),n.style.left=t*-l+"px",n.style.top=e*-s+"px"}}},o.fn.zoom=function(e){return this.each(function(){var n=o.extend({},t,e||{}),i=n.target&&o(n.target)[0]||this,u=this,a=o(u),c=document.createElement("img"),r=o(c),m="mousemove.zoom",l=!1,s=!1;if(!n.url){var d=u.querySelector("img");if(d&&(n.url=d.getAttribute("data-src")||d.currentSrc||d.src),!n.url)return}a.one("zoom.destroy",function(o,t){a.off(".zoom"),i.style.position=o,i.style.overflow=t,c.onload=null,r.remove()}.bind(this,i.style.position,i.style.overflow)),c.onload=function(){var t=o.zoom(i,u,c,n.magnify,n);function e(e){t.init(),t.move(e),r.stop().fadeTo(o.support.opacity?n.duration:0,1,!!o.isFunction(n.onZoomIn)&&n.onZoomIn.call(c))}function d(){r.stop().fadeTo(n.duration,0,!!o.isFunction(n.onZoomOut)&&n.onZoomOut.call(c))}"grab"===n.on?a.on("mousedown.zoom",function(n){1===n.which&&(o(document).one("mouseup.zoom",function(){d(),o(document).off(m,t.move)}),e(n),o(document).on(m,t.move),n.preventDefault())}):"click"===n.on?a.on("click.zoom",function(n){return l?void 0:(l=!0,e(n),o(document).on(m,t.move),o(document).one("click.zoom",function(){d(),l=!1,o(document).off(m,t.move)}),!1)}):"toggle"===n.on?a.on("click.zoom",function(o){l?d():e(o),l=!l}):"mouseover"===n.on&&(t.init(),a.on("mouseenter.zoom",e).on("mouseleave.zoom",d).on(m,t.move).one("mousemove.zoom",e)),n.touch&&a.on("touchstart.zoom",function(o){o.preventDefault(),s?(s=!1,d()):(s=!0,e(o.originalEvent.touches[0]||o.originalEvent.changedTouches[0]))}).on("touchmove.zoom",function(o){o.preventDefault(),t.move(o.originalEvent.touches[0]||o.originalEvent.changedTouches[0])}).on("touchend.zoom",function(o){o.preventDefault(),s&&(s=!1,d())}),o.isFunction(n.callback)&&n.callback.call(c)},c.setAttribute("role","presentation"),c.alt="",c.src=n.url})},o.fn.zoom.defaults=t}(window.jQuery);